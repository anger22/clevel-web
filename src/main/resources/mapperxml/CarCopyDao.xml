<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qiqi.jiaoyou.mapper.CarCopyDao">

    <resultMap type="com.qiqi.jiaoyou.pojo.CarCopy" id="CarCopyMap">
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="memberid" column="memberId" jdbcType="INTEGER"/>
        <result property="drivingLicensePhoto" column="driving_license_photo" jdbcType="VARCHAR"/>
        <result property="images" column="images" jdbcType="VARCHAR"/>
        <result property="vehicletype" column="vehicleType" jdbcType="VARCHAR"/>
        <result property="model" column="model" jdbcType="VARCHAR"/>
        <result property="addtime" column="addTime" jdbcType="TIMESTAMP"/>
        <result property="weight" column="weight" jdbcType="INTEGER"/>
        <result property="deledestate" column="deledeState" jdbcType="INTEGER"/>
        <result property="auditstate" column="auditState" jdbcType="INTEGER"/>
        <result property="reason" column="reason" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="CarCopyMap">
        select
          id, memberId, driving_license_photo, images, vehicleType, model, addTime, weight, deledeState, auditState, reason
        from jiaoyou.car_copy
        where id = #{id}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="CarCopyMap">
        select
          id, memberId, driving_license_photo, images, vehicleType, model, addTime, weight, deledeState, auditState, reason
        from jiaoyou.car_copy
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="CarCopyMap">
        select
        id, memberId, driving_license_photo, images, vehicleType, model, addTime, weight, deledeState, auditState,
        reason
        from jiaoyou.car_copy
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="memberid != null">
                and memberId = #{memberid}
            </if>
            <if test="drivingLicensePhoto != null and drivingLicensePhoto != ''">
                and driving_license_photo = #{drivingLicensePhoto}
            </if>
            <if test="images != null and images != ''">
                and images = #{images}
            </if>
            <if test="vehicletype != null and vehicletype != ''">
                and vehicleType = #{vehicletype}
            </if>
            <if test="model != null and model != ''">
                and model = #{model}
            </if>
            <if test="addtime != null">
                and addTime = #{addtime}
            </if>
            <if test="weight != null">
                and weight = #{weight}
            </if>
            <if test="deledestate != null">
                and deledeState = #{deledestate}
            </if>
            <if test="auditstate != null">
                and auditState = #{auditstate}
            </if>
            <if test="reason != null and reason != ''">
                and reason = #{reason}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into jiaoyou.car_copy(memberId, driving_license_photo, images, vehicleType, model, addTime, weight, deledeState, auditState, reason)
        values (#{memberid}, #{drivingLicensePhoto}, #{images}, #{vehicletype}, #{model}, #{addtime}, #{weight}, #{deledestate}, #{auditstate}, #{reason})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update jiaoyou.car_copy
        <set>
            <if test="memberid != null">
                memberId = #{memberid},
            </if>
            <if test="drivingLicensePhoto != null and drivingLicensePhoto != ''">
                driving_license_photo = #{drivingLicensePhoto},
            </if>
            <if test="images != null and images != ''">
                images = #{images},
            </if>
            <if test="vehicletype != null and vehicletype != ''">
                vehicleType = #{vehicletype},
            </if>
            <if test="model != null and model != ''">
                model = #{model},
            </if>
            <if test="addtime != null">
                addTime = #{addtime},
            </if>
            <if test="weight != null">
                weight = #{weight},
            </if>
            <if test="deledestate != null">
                deledeState = #{deledestate},
            </if>
            <if test="auditstate != null">
                auditState = #{auditstate},
            </if>
            <if test="reason != null and reason != ''">
                reason = #{reason},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from jiaoyou.car_copy where id = #{id}
    </delete>

</mapper>